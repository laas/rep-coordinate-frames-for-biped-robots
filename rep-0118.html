<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<!--
This HTML is auto-generated.  DO NOT EDIT THIS FILE!  If you are writing a new
REP, see http://www.python.org/dev/reps/rep-0001 for instructions and links
to templates.  DO NOT USE THIS HTML FILE AS YOUR TEMPLATE!
-->
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="generator" content="Docutils 0.6: http://docutils.sourceforge.net/" />
  <title>REP 118 -- Coordinate Frames for Humanoids Robots</title>
  <style type="text/css">

/*
:Author: David Goodger
:Contact: goodger@python.org
:date: $Date: 2006-05-21 22:44:42 +0200 (Son, 21 Mai 2006) $
:version: $Revision: 4564 $
:copyright: This stylesheet has been placed in the public domain.

Default cascading style sheet for the REP HTML output of Docutils.
*/

/* "! important" is used here to override other ``margin-top`` and
   ``margin-bottom`` styles that are later in the stylesheet or 
   more specific.  See http://www.w3.org/TR/CSS1#the-cascade */
.first {
  margin-top: 0 ! important }

.last, .with-subtitle {
  margin-bottom: 0 ! important }

.hidden {
  display: none }

.navigation {
  width: 100% ;
  background: #99ccff ;
  margin-top: 0px ;
  margin-bottom: 0px }

.navigation .navicon {
  width: 150px ;
  height: 35px }

.navigation .textlinks {
  padding-left: 1em ;
  text-align: left }

.navigation td, .navigation th {
  padding-left: 0em ;
  padding-right: 0em ;
  vertical-align: middle }

.rfc2822 {
  margin-top: 0.5em ;
  margin-left: 0.5em ;
  margin-right: 0.5em ;
  margin-bottom: 0em }

.rfc2822 td {
  text-align: left }

.rfc2822 th.field-name {
  text-align: right ;
  font-family: sans-serif ;
  padding-right: 0.5em ;
  font-weight: bold ;
  margin-bottom: 0em }

a.toc-backref {
  text-decoration: none ;
  color: black }

blockquote.epigraph {
  margin: 2em 5em ; }

dl.docutils dd {
  margin-bottom: 0.5em }

div.section {
  margin-left: 1em ;
  margin-right: 1em ;
  margin-bottom: 1.5em }

div.section div.section {
  margin-left: 0em ;
  margin-right: 0em ;
  margin-top: 1.5em }

div.abstract {
  margin: 2em 5em }

div.abstract p.topic-title {
  font-weight: bold ;
  text-align: center }

div.admonition, div.attention, div.caution, div.danger, div.error,
div.hint, div.important, div.note, div.tip, div.warning {
  margin: 2em ;
  border: medium outset ;
  padding: 1em }

div.admonition p.admonition-title, div.hint p.admonition-title,
div.important p.admonition-title, div.note p.admonition-title,
div.tip p.admonition-title {
  font-weight: bold ;
  font-family: sans-serif }

div.attention p.admonition-title, div.caution p.admonition-title,
div.danger p.admonition-title, div.error p.admonition-title,
div.warning p.admonition-title {
  color: red ;
  font-weight: bold ;
  font-family: sans-serif }

/* Uncomment (and remove this text!) to get reduced vertical space in
   compound paragraphs.
div.compound .compound-first, div.compound .compound-middle {
  margin-bottom: 0.5em }

div.compound .compound-last, div.compound .compound-middle {
  margin-top: 0.5em }
*/

div.dedication {
  margin: 2em 5em ;
  text-align: center ;
  font-style: italic }

div.dedication p.topic-title {
  font-weight: bold ;
  font-style: normal }

div.figure {
  margin-left: 2em ;
  margin-right: 2em }

div.footer, div.header {
  clear: both;
  font-size: smaller }

div.footer {
  margin-left: 1em ;
  margin-right: 1em }

div.line-block {
  display: block ;
  margin-top: 1em ;
  margin-bottom: 1em }

div.line-block div.line-block {
  margin-top: 0 ;
  margin-bottom: 0 ;
  margin-left: 1.5em }

div.sidebar {
  margin-left: 1em ;
  border: medium outset ;
  padding: 1em ;
  background-color: #ffffee ;
  width: 40% ;
  float: right ;
  clear: right }

div.sidebar p.rubric {
  font-family: sans-serif ;
  font-size: medium }

div.system-messages {
  margin: 5em }

div.system-messages h1 {
  color: red }

div.system-message {
  border: medium outset ;
  padding: 1em }

div.system-message p.system-message-title {
  color: red ;
  font-weight: bold }

div.topic {
  margin: 2em }

h1.section-subtitle, h2.section-subtitle, h3.section-subtitle,
h4.section-subtitle, h5.section-subtitle, h6.section-subtitle {
  margin-top: 0.4em }

h1 {
  font-family: sans-serif ;
  font-size: large }

h2 {
  font-family: sans-serif ;
  font-size: medium }

h3 {
  font-family: sans-serif ;
  font-size: small }

h4 {
  font-family: sans-serif ;
  font-style: italic ;
  font-size: small }

h5 {
  font-family: sans-serif;
  font-size: x-small }

h6 {
  font-family: sans-serif;
  font-style: italic ;
  font-size: x-small }

hr.docutils {
  width: 75% }

img.align-left {
  clear: left }

img.align-right {
  clear: right }

img.borderless {
  border: 0 }

ol.simple, ul.simple {
  margin-bottom: 1em }

ol.arabic {
  list-style: decimal }

ol.loweralpha {
  list-style: lower-alpha }

ol.upperalpha {
  list-style: upper-alpha }

ol.lowerroman {
  list-style: lower-roman }

ol.upperroman {
  list-style: upper-roman }

p.attribution {
  text-align: right ;
  margin-left: 50% }

p.caption {
  font-style: italic }

p.credits {
  font-style: italic ;
  font-size: smaller }

p.label {
  white-space: nowrap }

p.rubric {
  font-weight: bold ;
  font-size: larger ;
  color: maroon ;
  text-align: center }

p.sidebar-title {
  font-family: sans-serif ;
  font-weight: bold ;
  font-size: larger }

p.sidebar-subtitle {
  font-family: sans-serif ;
  font-weight: bold }

p.topic-title {
  font-family: sans-serif ;
  font-weight: bold }

pre.address {
  margin-bottom: 0 ;
  margin-top: 0 ;
  font-family: serif ;
  font-size: 100% }

pre.literal-block, pre.doctest-block {
  margin-left: 2em ;
  margin-right: 2em }

span.classifier {
  font-family: sans-serif ;
  font-style: oblique }

span.classifier-delimiter {
  font-family: sans-serif ;
  font-weight: bold }

span.interpreted {
  font-family: sans-serif }

span.option {
  white-space: nowrap }

span.option-argument {
  font-style: italic }

span.pre {
  white-space: pre }

span.problematic {
  color: red }

span.section-subtitle {
  /* font-size relative to parent (h1..h6 element) */
  font-size: 80% }

table.citation {
  border-left: solid 1px gray;
  margin-left: 1px }

table.docinfo {
  margin: 2em 4em }

table.docutils {
  margin-top: 0.5em ;
  margin-bottom: 0.5em }

table.footnote {
  border-left: solid 1px black;
  margin-left: 1px }

table.docutils td, table.docutils th,
table.docinfo td, table.docinfo th {
  padding-left: 0.5em ;
  padding-right: 0.5em ;
  vertical-align: top }

td.num {
  text-align: right }

th.field-name {
  font-weight: bold ;
  text-align: left ;
  white-space: nowrap ;
  padding-left: 0 }

h1 tt.docutils, h2 tt.docutils, h3 tt.docutils,
h4 tt.docutils, h5 tt.docutils, h6 tt.docutils {
  font-size: 100% }

ul.auto-toc {
  list-style-type: none }

</style>
</head>
<body bgcolor="white">
<table class="navigation" cellpadding="0" cellspacing="0"
       width="100%" border="0">
<tr><td class="navicon" width="150" height="35">
<a href="http://ros.org/" title="ROS Home Page">ROS</a></td>
<td class="textlinks" align="left">
[<b><a href="http://ros.org/">ROS Home</a></b>]
[<b><a href="http://ros.org/reps/rep-0000.html/">REP Index</a></b>]
[<b><a href="./rep-0118.txt">REP Source</a></b>]
</td></tr></table>
<div class="document">
<table class="rfc2822 docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">REP:</th><td class="field-body">118</td>
</tr>
<tr class="field"><th class="field-name">Title:</th><td class="field-body">Coordinate Frames for Humanoids Robots</td>
</tr>
<tr class="field"><th class="field-name">Version:</th><td class="field-body">1</td>
</tr>
<tr class="field"><th class="field-name">Last-Modified:</th><td class="field-body"><a class="reference external" href="http://code.ros.org/svn/rep/trunk/rep-0118.txt">2012-01-11 11:53:00 +0200 (Wed, 11 Jan 2012)</a></td>
</tr>
<tr class="field"><th class="field-name">Author:</th><td class="field-body">Thomas Moulard &lt;thomas.moulard&#32;&#97;t&#32;gmail.com&gt;</td>
</tr>
<tr class="field"><th class="field-name">Status:</th><td class="field-body">Draft</td>
</tr>
<tr class="field"><th class="field-name">Type:</th><td class="field-body">Informational</td>
</tr>
<tr class="field"><th class="field-name">Content-Type:</th><td class="field-body"><a class="reference external" href="http://ros.org/reps/rep-0012">text/x-rst</a></td>
</tr>
<tr class="field"><th class="field-name">Requires:</th><td class="field-body"><a class="reference external" href="http://ros.org/reps/rep-0103">103</a> <a class="reference external" href="http://ros.org/reps/rep-0105">105</a></td>
</tr>
<tr class="field"><th class="field-name">Created:</th><td class="field-body">25-Nov-2011</td>
</tr>
<tr class="field"><th class="field-name">Post-History:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
<hr />
<div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#abstract" id="id3">Abstract</a></li>
<li><a class="reference internal" href="#motivation" id="id4">Motivation</a></li>
<li><a class="reference internal" href="#specification" id="id5">Specification</a><ul>
<li><a class="reference internal" href="#coordinate-frames" id="id6">Coordinate Frames</a><ul>
<li><a class="reference internal" href="#base-link" id="id7">base_link</a></li>
<li><a class="reference internal" href="#base-footprint" id="id8">base_footprint</a></li>
<li><a class="reference internal" href="#left-wrist-and-right-wrist" id="id9">left_wrist and right_wrist</a></li>
<li><a class="reference internal" href="#left-hand-and-right-hand" id="id10">left_hand and right_hand</a></li>
<li><a class="reference internal" href="#left-ankle-and-right-ankle" id="id11">left_ankle and right_ankle</a></li>
<li><a class="reference internal" href="#left-sole-and-right-sole" id="id12">left_sole and right_sole</a></li>
<li><a class="reference internal" href="#left-toe-and-right-toe" id="id13">left_toe and right_toe</a></li>
<li><a class="reference internal" href="#gaze" id="id14">gaze</a></li>
<li><a class="reference internal" href="#chest" id="id15">chest</a></li>
<li><a class="reference internal" href="#map-and-odom" id="id16">map and odom</a></li>
</ul>
</li>
<li><a class="reference internal" href="#frame-hierarchy" id="id17">Frame Hierarchy</a></li>
<li><a class="reference internal" href="#frame-authorities" id="id18">Frame Authorities</a></li>
<li><a class="reference internal" href="#exceptions" id="id19">Exceptions</a></li>
</ul>
</li>
<li><a class="reference internal" href="#compliance" id="id20">Compliance</a></li>
<li><a class="reference internal" href="#references" id="id21">References</a></li>
<li><a class="reference internal" href="#copyright" id="id22">Copyright</a></li>
</ul>
</div>
<div class="section" id="abstract">
<h1><a class="toc-backref" href="#id3">Abstract</a></h1>
<p>This REP specifies naming conventions and semantic meaning for
coordinate frames of humanoids robots used within ROS.</p>
</div>
<div class="section" id="motivation">
<h1><a class="toc-backref" href="#id4">Motivation</a></h1>
<p>Developers of packages aimed at humanoids robots need a shared
convention for coordinate frames in order to better integrate and
re-use software components.</p>
<p>The REP 105 [2] already defines frames for mobile bases. This REP
both remains compatible with REP 105 [2] and extends it to label other
important locations on a humanoid robot such as the gaze (head), left
and right wrists, hands and feet.</p>
</div>
<div class="section" id="specification">
<h1><a class="toc-backref" href="#id5">Specification</a></h1>
<div class="section" id="coordinate-frames">
<h2><a class="toc-backref" href="#id6">Coordinate Frames</a></h2>
<div class="section" id="base-link">
<h3><a class="toc-backref" href="#id7">base_link</a></h3>
<p>The coordinate frame called <tt class="docutils literal">base_link</tt> is rigidly attached to the
robot root body. It is recommended to choose the robot waist as its
root body. The <tt class="docutils literal">base_link</tt> can be attached to the root in any
arbitrary position or orientation; for every hardware platform there
will be a different place on the base that provides an obvious point
of reference. Note that REP 103 [1] specifies a preferred orientation
for frames.</p>
</div>
<div class="section" id="base-footprint">
<h3><a class="toc-backref" href="#id8">base_footprint</a></h3>
<p>The coordinate frame called <tt class="docutils literal">base_footprint</tt> projects the
<tt class="docutils literal">base_link</tt> position on the floor.</p>
</div>
<div class="section" id="left-wrist-and-right-wrist">
<h3><a class="toc-backref" href="#id9">left_wrist and right_wrist</a></h3>
<p>The coordinate frame called <tt class="docutils literal">left_wrist</tt> defines the position and
orientation of the left arm regardless of the tool (grasping device
for instance) attached to it.</p>
<p>The coordinate frame called <tt class="docutils literal">right_wrist</tt> defines the equivalent
frame for the right arm.</p>
</div>
<div class="section" id="left-hand-and-right-hand">
<h3><a class="toc-backref" href="#id10">left_hand and right_hand</a></h3>
<p>The coordinate frame called <tt class="docutils literal">left_hand</tt> defines the position and
orientation of the left arm end effector.</p>
<p>If the end effector is a grasping device, the frame should be located
at the recommended object grasping location. The frame orientation is
defined as X the axis which should be collinear with the object axis
during the grasping process, Y the axis going &quot;toward&quot; the reached
object and Z the axis orthogonal to the (X,Y) plan.</p>
<p>The coordinate frame called <tt class="docutils literal">right_wrist</tt> defines the equivalent
frame for the right arm.</p>
</div>
<div class="section" id="left-ankle-and-right-ankle">
<h3><a class="toc-backref" href="#id11">left_ankle and right_ankle</a></h3>
<p>The coordinate frame called <tt class="docutils literal">left_ankle</tt> defines the position and
orientation of the left leg regardless of the support body geometry.</p>
<p>The coordinate frame called <tt class="docutils literal">right_ankle</tt> defines the equivalent
frame for the right leg.</p>
</div>
<div class="section" id="left-sole-and-right-sole">
<h3><a class="toc-backref" href="#id12">left_sole and right_sole</a></h3>
<p>The coordinate frame called <tt class="docutils literal">left_sole</tt> defines the position and
orientation of the left leg support body. The (X,Y) plan of this frame
must be coplanar with the support body contact surface. It is
recommended to choose the origin as the projection of the body center
on the contact surface.</p>
<p>The coordinate frame called <tt class="docutils literal">right_sole</tt> defines the equivalent
frame for the right leg.</p>
</div>
<div class="section" id="left-toe-and-right-toe">
<h3><a class="toc-backref" href="#id13">left_toe and right_toe</a></h3>
<p>The coordinate frame called <tt class="docutils literal">left_toe</tt> defines the position and
orientation of the left leg toe body. The (X,Y) plan of this frame
must be coplanar with the toe body contact surface. It is recommended
to choose the origin as the projection of the body center on the
contact surface.</p>
<p>The coordinate frame called <tt class="docutils literal">right_toe</tt> defines the equivalent frame
for the right leg.</p>
</div>
<div class="section" id="gaze">
<h3><a class="toc-backref" href="#id14">gaze</a></h3>
<p>The coordinate frame called <tt class="docutils literal">gaze</tt> defines the head position and
orientation regardless of any sensors (camera for instance).</p>
</div>
<div class="section" id="chest">
<h3><a class="toc-backref" href="#id15">chest</a></h3>
<p>The coordinate frame called <tt class="docutils literal">chest</tt> is attached to the lowest body
of the model which is a parent of <tt class="docutils literal">left_hand</tt>, <tt class="docutils literal">right_hand</tt> and
<tt class="docutils literal">gaze</tt>.</p>
</div>
<div class="section" id="map-and-odom">
<h3><a class="toc-backref" href="#id16">map and odom</a></h3>
<p>See REP 105 [1] for <tt class="docutils literal">map</tt> and <tt class="docutils literal">odom</tt> frames definition.</p>
</div>
</div>
<div class="section" id="frame-hierarchy">
<h2><a class="toc-backref" href="#id17">Frame Hierarchy</a></h2>
<p><tt class="docutils literal">base_link</tt> &lt;-- <tt class="docutils literal">chest</tt> &lt;-- <tt class="docutils literal">gaze</tt>
<tt class="docutils literal">base_link</tt> &lt;-- <tt class="docutils literal">chest</tt> &lt;-- <tt class="docutils literal">left_wrist</tt> &lt;-- <tt class="docutils literal">left_hand</tt>
<tt class="docutils literal">base_link</tt> &lt;-- <tt class="docutils literal">chest</tt> &lt;-- <tt class="docutils literal">right_wrist</tt> &lt;-- <tt class="docutils literal">right_hand</tt>
<tt class="docutils literal">base_link</tt> &lt;-- <tt class="docutils literal">left_ankle</tt> &lt;-- <tt class="docutils literal">left_sole</tt> &lt;-- <tt class="docutils literal">left_toe</tt>
<tt class="docutils literal">base_link</tt> &lt;-- <tt class="docutils literal">right_ankle</tt> &lt;-- <tt class="docutils literal">right_sole</tt> &lt;-- <tt class="docutils literal">right_toe</tt></p>
</div>
<div class="section" id="frame-authorities">
<h2><a class="toc-backref" href="#id18">Frame Authorities</a></h2>
<p>Unlike mobile bases, the transformation from <tt class="docutils literal">base_link</tt> to
<tt class="docutils literal">base_footprint</tt> is not rigid on humanoid robots and is broadcasted by
an external node.</p>
</div>
<div class="section" id="exceptions">
<h2><a class="toc-backref" href="#id19">Exceptions</a></h2>
<p>The scope of potential robotics software is too broad to require all
ROS software to follow the guidelines of this REP.  However, choosing
different conventions should be well justified and well documented.</p>
</div>
</div>
<div class="section" id="compliance">
<h1><a class="toc-backref" href="#id20">Compliance</a></h1>
<p>This REP depends on and is compliant with REP 103 [1] and REP 105 [2].</p>
</div>
<div class="section" id="references">
<h1><a class="toc-backref" href="#id21">References</a></h1>
<table class="docutils footnote" frame="void" id="id1" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[1]</td><td>REP 103, Standard Units of Measure and Coordinate Conventions
(<a class="reference external" href="http://www.ros.org/reps/rep-0103.html">http://www.ros.org/reps/rep-0103.html</a>)</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id2" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[2]</td><td>REP 105, Coordinate Frames for Mobile Platforms
(<a class="reference external" href="http://www.ros.org/reps/rep-0105.html">http://www.ros.org/reps/rep-0105.html</a>)</td></tr>
</tbody>
</table>
</div>
<div class="section" id="copyright">
<h1><a class="toc-backref" href="#id22">Copyright</a></h1>
<p>This document has been placed in the public domain.</p>
</div>

</div>
</body>
</html>
